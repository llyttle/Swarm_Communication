#define right_IR 3
#define left_IR 4

#define kP 1
#define kI 1
#define kD 1

#define setpoint 0

float P;
float I;
float D;

float lastP;

unsigned long currentTime, previousTime, elapsedTime;

void setup() {
  // put your setup code here, to run once:
  pinMode(right_IR, INPUT);
  pinMode(left_IR, INPUT);
}

void loop() {
  // put your main code here, to run repeatedly:
  int input = digitalRead(right_IR) - digitalRead(left_IR);

  float heading = computePID(input);
  delay(100);
  
//  driveWheels(heading);
}

float computePID(int input) {
  currentTime = millis();
  elapsedTime = currentTime - previousTime;

  P = setpoint - input;
  I = P * elapsedTime;
  D = (P - lastP)/elapsedTime;

  lastP = P;
  previousTime = currentTime;

  return kP*P + kI*I + kD*D;
  
}
